<template>
  <div class="busuanzi">
    ğŸ‘€ æœ¬ç«™æ€»è®¿é—®é‡
    <span id="busuanzi_value_site_pv"></span> æ¬¡
    <div id="runtime_span">
      ğŸ’» æœ¬ç«™å‹‰å¼ºè¿è¡Œ <span class="color">{{ A }}</span
      >å¤©<span class="color">{{ B }}</span
      >å°æ—¶<span class="color">{{ C }}</span
      >åˆ†<span class="color">{{ D }}</span
      >ç§’
    </div>
  </div>
</template>

<script>
/* ä¸è’œå­è®¿é—®é‡ç»Ÿè®¡ */
import script from 'busuanzi.pure.js'
export default {
  // ç›‘å¬,å½“è·¯ç”±å‘ç”Ÿå˜åŒ–çš„æ—¶å€™æ‰§è¡Œ
  watch: {
    $route(to, from) {
      if (to.path != from.path) {
        script.fetch()
      }
    },
  },
  data() {
    return {
      A: '',
      B: '',
      C: '',
      D: '',
    }
  },
  methods: {
    show_runtime() {
      window.setTimeout(this.show_runtime, 1000)
      let X, Y, T, M, a, b, c
      X = new Date('9/27/2022 00:00:00')
      Y = new Date()
      T = Y.getTime() - X.getTime()
      M = 24 * 60 * 60 * 1000
      a = T / M
      this.A = Math.floor(a)
      b = (a - this.A) * 24
      this.B = Math.floor(b)
      c = (b - this.B) * 60
      this.C = Math.floor((b - this.B) * 60)
      this.D = Math.floor((c - this.C) * 60)
    },
  },
  mounted() {
    this.show_runtime()
  },
}
</script>
<style scoped>
.busuanzi {
  font-size: 14px !important;
}
#busuanzi_value_site_pv,
.color {
  color: #64b687;
  font-weight: bold;
}
#runtime_span {
  margin-top: 10px;
}
</style>
